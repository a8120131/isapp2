<!DOCTYPE html>

<html>

<head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">

    <script type="text/javascript" src="lib/jquery.min.js"></script>
    <script type="text/javascript" src="lib/osql.js"></script>

    <script>
        osql.requireLogin();

        $(document).ready(function () {
            tableMake();
        });


        async function tableMake() {
            var html = "";
            html = html + '<table border="1">';
            for (var i = 0; i < 8; i++) {   //表作成
                html = html + "<tr>";
                if (i == 0) {   //曜日部分作成
                    html = html + "<th>　</th><th>月</th><th>火</th><th>水</th><th>木</th><th>金</th><th>土</th>";
                } else if (i == 6) {
                    html = html + '<th>オンデマンド</th>';
                    for (var v = 0; v < 6; v++) {
                        html = html + '<th>　</th>';
                    }
                } else if (i == 7) {   //コース選択部分
                    html = html + '<th>エリア選択</th>';
                    html = html + '<th><label><input type="checkbox">全選択</label></th>';
                    html = html + '<th><label><input type="checkbox">情報</label></th>';
                    html = html + '<th><label><input type="checkbox">社会</label></th>';
                    html = html + '<th><label><input type="checkbox">人間</label></th>';
                    html = html + '<th><label><input type="checkbox">青スタ</label></th>';
                } else {
                    html = html + '<th>' + i + '</th>';
                    for (var v = 0; v < 6; v++) {
                        if (v == 0) {   //月曜日
                            if (i == 1) {   //1限
                                html = html + '<th>月１</th>';
                            } else if (i == 2) {   //2限
                                html = html + '<th>月２</th>';
                            } else if (i == 3) {   //3限
                                html = html + '<th>月３</th>';
                            } else if (i == 4) {   //4限
                                html = html + '<th>月４</th>';
                            } else if (i == 5) {   //5限
                                html = html + '<th>月５</th>';
                            }
                        } else if (v == 1) {   //火曜日
                            if (i == 1) {   //1限
                                html = html + '<th>火１</th>';
                            } else if (i == 2) {   //2限
                                html = html + '<th>火２</th>';
                            } else if (i == 3) {   //3限
                                html = html + '<th>火３</th>';
                            } else if (i == 4) {   //4限
                                html = html + '<th>火４</th>';
                            } else if (i == 5) {   //5限
                                html = html + '<th>火５</th>';
                            }
                        } else if (v == 2) {   //水曜日
                            if (i == 1) {   //1限
                                html = html + '<th>水１</th>';
                            } else if (i == 2) {   //2限
                                html = html + '<th>水２</th>';
                            } else if (i == 3) {   //3限
                                html = html + '<th>水３</th>';
                            } else if (i == 4) {   //4限
                                html = html + '<th>水４</th>';
                            } else if (i == 5) {   //5限
                                var sql = 'select * from Class where time = "火５（後期）";"';
                                var objects = await osql.connect(sql);
                                html = html + '<th>';
                                for (var t = 0; t < objects.length; t++) {
                                    var list = objects[t];
                                    console.log(objects[t]);
                                    html = html + JSON.stringify(list.name).link(list.url);
                                    html = html + '</br>';
                                }
                                html = html + '</th>';
                            }
                        } else if (v == 3) {   //木曜日
                            if (i == 1) {   //1限
                                html = html + '<th>木１</th>';
                            } else if (i == 2) {   //2限
                                html = html + '<th>木２</th>';
                            } else if (i == 3) {   //3限
                                html = html + '<th>木３</th>';
                            } else if (i == 4) {   //4限
                                html = html + '<th>木４</th>';
                            } else if (i == 5) {   //5限
                                html = html + '<th>木５</th>';
                            }
                        } else {
                            html = html + '<th>　</th>';
                        }
                    }
                }
                html = html + '</tr>';
            }
            html = html + '</table>';
            document.getElementById('table').innerHTML = html;
        }
    </script>

</head>

<body>
    <h1>履修登録サポートシステム</h1>
    <p id="welcome">ようこそxxさん</p>
    <p>※3年生後期限定仕様</p>
    <hr>
    <p id="table">xxxx</p>
</body>

</html>